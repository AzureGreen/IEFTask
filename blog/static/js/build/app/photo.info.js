define(["jquery"],function(t){var o=1,i=!1,a=function(){t.ajax({url:"assist/getPhoto.php?wantedgroup="+o,type:"GET",dataType:"json"}).done(function(o){if(!o.length)return void(i=!0);var a="";o.forEach(function(t,o,i){o%2==0?directionClass="tl-left":directionClass="tl-right",a+='\t\t\t\t\t<div class="tl-box '+directionClass+'"> \t\t\t\t\t\t<div class="tl-content"> \t\t\t\t\t\t\t<div class="tl-image-block"> \t\t\t\t\t\t\t\t<img src="'+i[o].image+'" alt="'+i[o].title+'" class="tl-image"> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t<h2 class="tl-title">'+i[o].title+'</h2> \t\t\t\t\t\t\t<p class="tl-introduction">'+i[o].introduction+'</p> \t\t\t\t\t\t\t<div class="tl-extra-info"> \t\t\t\t\t\t\t\t<time class="tl-date">photographed on '+i[o].date+'</time> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="tl-icon"> \t\t\t\t\t\t\t<i class="fa fa-camera" aria-hidden="true"></i> \t\t\t\t\t\t</div> \t\t\t\t\t</div> '}),t(".time-line").append(a)}).fail(function(t,o){console.log("ajax: 请求图片 失败"+o)})},e=function(){i?console.log("No more articles"):(o++,a(),console.log("showMorePhoto: "+o))},l=function(o){o?t(".pop-up").fadeIn(200):t(".pop-up").fadeOut(200)},n=function(o,i){var a=t(".pop-up"),e=a.find("img"),l=a.find("h2");e.attr("src",o),e.attr("alt",i),l.html(i)};return{showPhotoBlock:a,showMorePhoto:e,setPopupImg:n,popupImage:l}});